<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf8">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        <link rel="stylesheet" type="text/css" href="css/leaflet.css">
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.min.css">
        <link rel="stylesheet" type="text/css" href="css/index.css">
        <title>Refugee Map</title>
    </head>
    <body>
        <div data-role="page" id="page-map">
           <!-- <div class="status-icon ui-btn-icon-right"></div> -->
          <div data-role="main" id="content-map">
            <div id="map"></div>
          </div>
        </div>

        <div data-role="page" data-dialog="true" id="page-search">
          <div data-role="header">
            <a href="#page-map" data-role="button" data-inline="true" data-icon="back"></a>
            <h1 id="search-header">Search</h1>
          </div>
          <div data-role="content">
            <form class="ui-filterable">
              <input data-type="search" id="searchbox" placeholder="Enter text to search..." />
            </form>
            <ul data-role="listview">
              <li data-role="list-divider" role="heading" id="category-header">Categories</li>
                <li><a href="#" class="ui-btn ui-btn-icon-right ui-icon-carat-r">Wi-Fi</a></li>
                <li><a href="#" class="ui-btn ui-btn-icon-right ui-icon-carat-r">Accomodation</a></li>
              <li data-role="list-divider" role="heading" id="placelist-header">Places</li>
              <li><a href="#" class="ui-btn ui-btn-icon-right ui-icon-carat-r">TU Wien</a></li>
              <li><a href="#" class="ui-btn ui-btn-icon-right ui-icon-carat-r">Gußhausstraße</a></li>
            </ul>
          </div>   
        </div>
              
        <!-- The details page. The link from the popup should call a function to fill in this page and then refer to it. -->
        <div data-role="page" id="page-details">
          <div data-role="header">
            <a href="#page-map" data-role="button" data-inline="true" data-icon="back">Map</a>
            <h1 id="details-name">Place name</h1>
          </div>
          <div data-role="content">
            <h3>Category: <span id="desc-category" class="desc-category">Place category</span></h3>
            <p id="desc-description" class="desc-description">Sorry, no description in English for this place!</p>
            <p id="desc-address"></p>
            <p id="desc-website"></p>
            <p id="desc-phone"></p>
            <form method="post">
              <fieldset class="ui-field-contain">
                <label for="desc-lang" id="desc-label">Description language...</label>
                <select name="desc-lang" id="desc-lang" onchange="changeDescLang();">
                </select>
              </fieldset>
            </form>
            <button onclick="addDescription();" class="ui-btn ui-icon-plus ui-btn-icon-left" id="desc-add" >Add description in English...</button>
            <button onclick="editDescription();" class="ui-btn ui-icon-edit ui-btn-icon-left" id="desc-edit" >Edit description</button>
            <!-- <div class="ui-grid-a ui-responsive"> -->
            <button onclick="rateCurrent(true);" class="ui-btn ui-icon-check ui-btn-icon-left" id="place-found"><span id="place-found-text">Been there</span> (<span id="desc-verified">?</span>)</button>
            <button onclick="rateCurrent(false);" class="ui-btn ui-icon-delete ui-btn-icon-left" id="place-notfound"><span id="place-notfound-text">Been there</span> (<span id="desc-disapproved">?</span>)</button>
            <!-- </div> -->
            <button onclick="routeToCurrent();" class="ui-btn ui-icon-navigation ui-btn-icon-left" id="route-button">Route to place</a>
          </div>        
        </div>
        
        <div data-role="page" data-dialog="true" id="page-descadd">
          <div data-role="header">
            <h1 id="descadd-header">Place name</h1>
          </div>
          <div data-role="content">
            <form method="post" id="post-descadd">
              <fieldset class="ui-field-contain">
                <textarea name="descadd-text" id="descadd-text" placeholder="Add description in English..." rows="8"></textarea>
                <button id="submit-desc" onclick="saveDescription();">Submit</button>
              </fieldset>          
            </form>
          </div>
        </div>
 
        <div data-role="page" data-dialog="true" id="page-add">
          <form method="post" id="post-add">
            <div data-role="header">
              <input type="text" name="add-placename" id="add-placename" placeholder="Add place name" />
            </div>
            <div data-role="content">
              <fieldset class="ui-field-contain">
                <label for="add-category">Category...</label>
                <select name="add-category" id="add-category">
                  <option value="wifi">Wi-Fi access point</option>
                  <option value="accomodation">Accomodation</option>
                </select>
                <textarea name="add-desc" id="add-desc" placeholder="Add description..." rows="8"></textarea>
                <input type="text" name="address" id="add-address" placeholder="Address..."/>
                <input type="text" name="website" id="add-website" placeholder="Website..."/>
                <input type="text" name="phonenumber" id="add-phone" placeholder="Phone number"/>
                <input type="email" name="email" id="add-email" placeholder="My e-mail" />
				<p >Coordinates(Lat,Lon):<span id="coords-field"></span></p>
				<form>
					<input type ="hidden" id="lat"></input>
					<input type ="hidden" id="lng"></input>
				</form>
                <input type="submit" id="submit-desc" value="Submit"/>
              </fieldset>
            </div>        
          </form>
        </div>

        <div data-role="page" id="page-options">
          <div data-role="header">
            <a href="#page-map" data-role="button" data-inline="true" data-icon="back">Map</a>
            <h1 id="options-header">Options</h1>
          </div>
          <div data-role="content">
            <form method="post">
              <fieldset class="ui-field-contain">
                <label for="user-email" id="user-email-label">E-mail</label>
                <input name="user-email" id="user-email" type="email" value="" />
                <p id="privacy-notice" class="smaller"></p>
                <label for="user-lang" id="user-lang-label">Language</label>
                <select name="user-lang" id="user-lang">
                </select>
                <button name="option-submit" id="option-submit" onclick="saveOptions();">Save options</button>
              </fieldset>
              <a href="#page-about" data-role="button" id="link-about">About</a>
              <fieldset class="ui-field-contain">
                <textarea name="contact-form" id="contact-form" maxlength="10000">Send us a message...</textarea>
              </fieldset>
            </form>
          </div>        
        </div>

        <div data-role="page" id="page-about">
          <div data-role="header">
            <a href="#page-options" data-role="button" data-inline="true" data-icon="back">Options</a>
            <h1 id="about-header">About</h1>
          </div>
          <div data-role="content">
            <p>Something about the origin of the application, its developers and so on.</p>
          </div>        
        </div>
        
        <!-- NTH: route description -->
<!--         <div data-role="page" id="page-route">
          <div data-role="header">
            <a href="#page-map" data-role="button" data-inline="true" data-icon="back">Map</a>
            <h1 id="about-header">From-To</h1>
          </div>
          <div data-role="content">
          </div>        
        </div>
 -->        
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/leaflet.js"></script>
        <script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
        <script type="text/javascript" src="js/jquery.mobile-1.4.5.min.js"></script>
        <script type="text/javascript" src="js/pouchdb-5.1.0.min.js"></script>
        <script type="text/javascript" src="js/polyline.js"></script>
        <script type="text/javascript" src="js/categories.js"></script>
        <script type="text/javascript" src="js/translation.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
    </body>
</html>
